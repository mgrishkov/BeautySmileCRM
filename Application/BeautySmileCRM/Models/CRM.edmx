<?xml version="1.0" encoding="utf-8"?>
<edmx:Edmx Version="3.0" xmlns:edmx="http://schemas.microsoft.com/ado/2009/11/edmx">
  <!-- EF Runtime content -->
  <edmx:Runtime>
    <!-- SSDL content -->
    <edmx:StorageModels>
    <Schema Namespace="CRMModel.Store" Provider="System.Data.SqlClient" ProviderManifestToken="2012" Alias="Self" xmlns:store="http://schemas.microsoft.com/ado/2007/12/edm/EntityStoreSchemaGenerator" xmlns="http://schemas.microsoft.com/ado/2009/11/edm/ssdl">
        <EntityType Name="Privilege">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="int" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="256" Nullable="false" />
          <Property Name="Description" Type="nvarchar" MaxLength="256" Nullable="false" />
          <Property Name="GroupID" Type="int" Nullable="false" />
        </EntityType>
        <EntityType Name="User">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Login" Type="nvarchar" MaxLength="100" Nullable="false" />
          <Property Name="Password" Type="nvarchar" MaxLength="100" Nullable="false" />
          <Property Name="Email" Type="nvarchar" MaxLength="255" />
          <Property Name="ExpirationDate" Type="date" />
          <Property Name="IsSystem" Type="bit" Nullable="false" />
        </EntityType>
        <EntityType Name="UserPrivilege">
          <Key>
            <PropertyRef Name="UserID" />
            <PropertyRef Name="PrivilegeID" />
          </Key>
          <Property Name="UserID" Type="int" Nullable="false" />
          <Property Name="PrivilegeID" Type="int" Nullable="false" />
        </EntityType>
        <EntityType Name="AppointmentState">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="int" Nullable="false" />
          <Property Name="Code" Type="varchar" MaxLength="50" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="255" Nullable="false" />
          <Property Name="Description" Type="nvarchar" MaxLength="4000" />
        </EntityType>
        <EntityType Name="CumulativeDiscount">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="255" Nullable="false" />
          <Property Name="Percent" Type="decimal" Precision="4" Scale="2" Nullable="false" />
          <Property Name="MinDiscount" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="MaxDiscount" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="PurchaseTopLimit" Type="decimal" Precision="13" Scale="2" Nullable="false" />
        </EntityType>
        <EntityType Name="DiscountType">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="int" Nullable="false" />
          <Property Name="Code" Type="varchar" MaxLength="255" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="255" Nullable="false" />
          <Property Name="Description" Type="nvarchar" MaxLength="4000" />
        </EntityType>
        <EntityType Name="PrivelegeGroup">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="int" Nullable="false" />
          <Property Name="Code" Type="varchar" MaxLength="50" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="255" Nullable="false" />
          <Property Name="Description" Type="nvarchar" MaxLength="4000" />
        </EntityType>
        <EntityType Name="Service">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Description" Type="nvarchar" MaxLength="4000" Nullable="false" />
          <Property Name="WorkingMinuts" Type="int" Nullable="false" />
          <Property Name="Price" Type="decimal" Precision="13" Scale="2" Nullable="false" />
        </EntityType>
        <EntityType Name="TransactionType">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Code" Type="varchar" MaxLength="50" Nullable="false" />
          <Property Name="Name" Type="nvarchar" MaxLength="255" Nullable="false" />
          <Property Name="Description" Type="nvarchar" MaxLength="4000" />
          <Property Name="OperationSign" Type="int" Nullable="false" />
        </EntityType>
        <EntityType Name="Appointment">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="CustomerID" Type="int" Nullable="false" />
          <Property Name="StartTime" Type="datetime" Nullable="false" />
          <Property Name="EndTime" Type="datetime" Nullable="false" />
          <Property Name="StaffID" Type="int" Nullable="false" />
          <Property Name="Purpose" Type="nvarchar" MaxLength="4000" Nullable="false" />
          <Property Name="Price" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="DiscountPercent" Type="decimal" Precision="4" Scale="2" Nullable="false" />
          <Property Name="Discount" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="ToPay" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="StateID" Type="int" Nullable="false" />
          <Property Name="CreationTime" Type="datetime" Nullable="false" />
          <Property Name="CreatedBy" Type="int" Nullable="false" />
          <Property Name="ModificationTime" Type="datetime" />
          <Property Name="ModifiedBy" Type="int" />
        </EntityType>
        <EntityType Name="AppointmentDetail">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="AppointmentID" Type="int" Nullable="false" />
          <Property Name="StaffID" Type="int" Nullable="false" />
          <Property Name="ServiceID" Type="int" Nullable="false" />
          <Property Name="Price" Type="decimal" Precision="13" Scale="2" Nullable="false" />
        </EntityType>
        <EntityType Name="Customer">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="FirstName" Type="nvarchar" MaxLength="100" Nullable="false" />
          <Property Name="LastName" Type="nvarchar" MaxLength="100" Nullable="false" />
          <Property Name="MiddleName" Type="nvarchar" MaxLength="100" />
          <Property Name="Phone" Type="varchar" MaxLength="18" />
          <Property Name="Email" Type="varchar" MaxLength="255" />
          <Property Name="Address" Type="nvarchar" MaxLength="4000" />
          <Property Name="BirthDate" Type="datetime2" Precision="7" />
          <Property Name="DiscountCardID" Type="int" />
          <Property Name="UserID" Type="int" />
          <Property Name="Photo" Type="image" />
          <Property Name="MoneyBalance" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="MobilePhone" Type="varchar" MaxLength="18" />
          <Property Name="Gender" Type="int" Nullable="false" />
          <Property Name="Country" Type="nvarchar" MaxLength="4000" />
          <Property Name="City" Type="nvarchar" MaxLength="4000" />
          <Property Name="Region" Type="nvarchar" MaxLength="4000" />
          <Property Name="Zip" Type="int" />
          <Property Name="NotifyByEmail" Type="bit" Nullable="false" />
          <Property Name="NotifyBySms" Type="bit" Nullable="false" />
          <Property Name="NotifyByPost" Type="bit" Nullable="false" />
          <Property Name="CreationTime" Type="datetime2" Precision="7" Nullable="false" />
          <Property Name="ModificationTime" Type="datetime2" Precision="7" />
        </EntityType>
        <EntityType Name="DiscountCard">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Code" Type="varchar" MaxLength="50" Nullable="false" />
          <Property Name="DiscountPercent" Type="decimal" Precision="4" Scale="2" Nullable="false" />
          <Property Name="TotalPurchaseValue" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="DiscountTypeID" Type="int" Nullable="false" />
          <Property Name="MinDiscount" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="MaxDiscount" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="FixedDiscount" Type="bit" Nullable="false" />
          <Property Name="InitialDiscountPercent" Type="decimal" Precision="4" Scale="2" Nullable="false" />
        </EntityType>
        <EntityType Name="FinancialTransaction">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="CustomerID" Type="int" Nullable="false" />
          <Property Name="AppointmentID" Type="int" Nullable="false" />
          <Property Name="TransactionTypeID" Type="int" Nullable="false" />
          <Property Name="Amount" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="Comment" Type="nvarchar" MaxLength="4000" />
          <Property Name="CreationTime" Type="datetime" Nullable="false" />
          <Property Name="CreatedBy" Type="int" Nullable="false" />
          <Property Name="ModificationTime" Type="datetime" />
          <Property Name="ModifiedBy" Type="int" />
          <Property Name="IsCanceled" Type="bit" Nullable="false" />
        </EntityType>
        <EntityType Name="DBVersion">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="Major" Type="int" Nullable="false" />
          <Property Name="Minor" Type="int" Nullable="false" />
          <Property Name="Build" Type="int" Nullable="false" />
          <Property Name="Revision" Type="int" Nullable="false" />
          <Property Name="InstallationStarted" Type="datetime2" Precision="7" Nullable="false" />
          <Property Name="InstallationFinished" Type="datetime2" Precision="7" />
        </EntityType>
        <EntityType Name="Staff">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="int" StoreGeneratedPattern="Identity" Nullable="false" />
          <Property Name="FirstName" Type="nvarchar" MaxLength="100" Nullable="false" />
          <Property Name="LastName" Type="nvarchar" MaxLength="100" Nullable="false" />
          <Property Name="MiddleName" Type="nvarchar" MaxLength="100" />
          <Property Name="Photo" Type="image" />
          <Property Name="DismissalDate" Type="date" />
          <Property Name="UserID" Type="int" />
          <Property Name="Position" Type="nvarchar" MaxLength="4000" Nullable="false" />
        </EntityType>
        <EntityType Name="StaffService">
          <Key>
            <PropertyRef Name="StaffID" />
            <PropertyRef Name="ServiceID" />
          </Key>
          <Property Name="StaffID" Type="int" Nullable="false" />
          <Property Name="ServiceID" Type="int" Nullable="false" />
        </EntityType>
        <!--Errors Found During Generation:
warning 6002: The table/view 'CRM.CST.AppointmentView' does not have a primary key defined. The key has been inferred and the definition was created as a read-only table/view.-->
        <EntityType Name="AppointmentView">
          <Key>
            <PropertyRef Name="AppointmentID" />
            
            <PropertyRef Name="CustomerFirstName" />
            <PropertyRef Name="CustomerLastName" />
            
            
            
            
            
            
            
            
            
            
            
          </Key>
          <Property Name="AppointmentID" Type="int" Nullable="false" StoreGeneratedPattern="Identity" />
          <Property Name="CustomerID" Type="int" Nullable="false" />
          <Property Name="CustomerFirstName" Type="nvarchar" MaxLength="100" Nullable="false" />
          <Property Name="CustomerLastName" Type="nvarchar" MaxLength="100" Nullable="false" />
          <Property Name="CustomerMiddleName" Type="nvarchar" MaxLength="100" />
          <Property Name="DiscountCardCode" Type="varchar" MaxLength="50" />
          <Property Name="DiscountCardPercent" Type="decimal" Precision="4" Scale="2" />
          <Property Name="DiscountCardTotalPurchaseValue" Type="decimal" Precision="13" Scale="2" />
          <Property Name="DiscountCardMinDiscount" Type="decimal" Precision="13" Scale="2" />
          <Property Name="DiscountCardMaxDiscount" Type="decimal" Precision="13" Scale="2" />
          <Property Name="StartTime" Type="datetime" Nullable="false" />
          <Property Name="EndTime" Type="datetime" Nullable="false" />
          <Property Name="StaffID" Type="int" Nullable="false" />
          <Property Name="Purpose" Type="nvarchar" MaxLength="4000" Nullable="false" />
          <Property Name="Price" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="DiscountPercent" Type="decimal" Precision="4" Scale="2" Nullable="false" />
          <Property Name="Discount" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="ToPay" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="Payed" Type="decimal" Precision="13" Scale="2" />
          <Property Name="StateID" Type="int" Nullable="false" />
          <Property Name="CreationTime" Type="datetime" Nullable="false" />
          <Property Name="CreatedBy" Type="int" Nullable="false" />
          <Property Name="ModificationTime" Type="datetime" />
          <Property Name="ModifiedBy" Type="int" />
        </EntityType>
        <!--Errors Found During Generation:
warning 6002: The table/view 'CRM.CST.CustomerView' does not have a primary key defined. The key has been inferred and the definition was created as a read-only table/view.-->
        <EntityType Name="CustomerView">
          <Key>
            <PropertyRef Name="CustomerID" />
            
            
            
            
            
            
            
            
          </Key>
          <Property Name="CustomerID" Type="int" Nullable="false" />
          <Property Name="FirstName" Type="nvarchar" MaxLength="100" Nullable="false" />
          <Property Name="LastName" Type="nvarchar" MaxLength="100" Nullable="false" />
          <Property Name="MiddleName" Type="nvarchar" MaxLength="100" />
          <Property Name="Gender" Type="int" Nullable="false" />
          <Property Name="Country" Type="nvarchar" MaxLength="4000" />
          <Property Name="City" Type="nvarchar" MaxLength="4000" />
          <Property Name="Region" Type="nvarchar" MaxLength="4000" />
          <Property Name="Zip" Type="int" />
          <Property Name="Phone" Type="varchar" MaxLength="18" />
          <Property Name="MobilePhone" Type="varchar" MaxLength="18" />
          <Property Name="Email" Type="varchar" MaxLength="255" />
          <Property Name="Address" Type="nvarchar" MaxLength="4000" />
          <Property Name="BirthDate" Type="datetime2" Precision="7" />
          <Property Name="MoneyBalance" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="NotifyByEmail" Type="bit" Nullable="false" />
          <Property Name="NotifyBySms" Type="bit" Nullable="false" />
          <Property Name="NotifyByPost" Type="bit" Nullable="false" />
          <Property Name="CreationTime" Type="datetime2" Precision="7" Nullable="false" />
          <Property Name="ModificationTime" Type="datetime2" Precision="7" />
          <Property Name="DiscountcardID" Type="int" />
          <Property Name="DiscountCardCode" Type="varchar" MaxLength="50" />
          <Property Name="DiscountPercent" Type="decimal" Precision="4" Scale="2" />
          <Property Name="FirstVisit" Type="datetime" />
          <Property Name="LastVisit" Type="datetime" />
          <Property Name="NextVisit" Type="datetime" />
        </EntityType>
        <!--Errors Found During Generation:
warning 6002: The table/view 'CRM.CST.FinancialTransactionView' does not have a primary key defined. The key has been inferred and the definition was created as a read-only table/view.-->
        <EntityType Name="FinancialTransactionView">
          <Key>
            <PropertyRef Name="ID" />
            
            
            
            
            
            
            
            
            <PropertyRef Name="Price" />
            
            
            
            
            
            
            
            <PropertyRef Name="IsCanceled" />
          </Key>
          <Property Name="ID" Type="int" Nullable="false" />
          <Property Name="CustomerID" Type="int" Nullable="false" />
          <Property Name="CustomerFirstName" Type="nvarchar" MaxLength="100" Nullable="false" />
          <Property Name="CustomerLastName" Type="nvarchar" MaxLength="100" Nullable="false" />
          <Property Name="CustomerMiddleName" Type="nvarchar" MaxLength="100" />
          <Property Name="DiscountCardCode" Type="varchar" MaxLength="50" />
          <Property Name="DiscountCardPercent" Type="decimal" Precision="4" Scale="2" />
          <Property Name="DiscountCardTotalPurchaseValue" Type="decimal" Precision="13" Scale="2" />
          <Property Name="DiscountCardMinDiscount" Type="decimal" Precision="13" Scale="2" />
          <Property Name="DiscountCardMaxDiscount" Type="decimal" Precision="13" Scale="2" />
          <Property Name="AppointmentID" Type="int" Nullable="false" />
          <Property Name="AppointmentPurpose" Type="nvarchar" MaxLength="4000" Nullable="false" />
          <Property Name="AppointmentStartTime" Type="datetime" Nullable="false" />
          <Property Name="AppointmentEndTime" Type="datetime" Nullable="false" />
          <Property Name="StaffID" Type="int" Nullable="false" />
          <Property Name="Price" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="ToPay" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="DiscountPercent" Type="decimal" Precision="4" Scale="2" Nullable="false" />
          <Property Name="Discount" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="TransactionTypeID" Type="int" Nullable="false" />
          <Property Name="Amount" Type="decimal" Precision="13" Scale="2" Nullable="false" />
          <Property Name="Comment" Type="nvarchar" MaxLength="4000" />
          <Property Name="CreationTime" Type="datetime" Nullable="false" />
          <Property Name="CreatedBy" Type="int" Nullable="false" />
          <Property Name="ModificationTime" Type="datetime" />
          <Property Name="ModifiedBy" Type="int" />
          <Property Name="IsCanceled" Type="bit" Nullable="false" />
        </EntityType>
        <Association Name="FK#Appointment@CreatedBy#User@ID">
          <End Role="User" Type="Self.User" Multiplicity="1" />
          <End Role="Appointment" Type="Self.Appointment" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="User">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Appointment">
              <PropertyRef Name="CreatedBy" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#Appointment@CustomerID#Customer@ID">
          <End Role="Customer" Type="Self.Customer" Multiplicity="1" />
          <End Role="Appointment" Type="Self.Appointment" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Customer">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Appointment">
              <PropertyRef Name="CustomerID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#Appointment@ModfiedBy#User@ID">
          <End Role="User" Type="Self.User" Multiplicity="0..1" />
          <End Role="Appointment" Type="Self.Appointment" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="User">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Appointment">
              <PropertyRef Name="ModifiedBy" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#Appointment@StaffID#Staff@ID">
          <End Role="Staff" Type="Self.Staff" Multiplicity="1" />
          <End Role="Appointment" Type="Self.Appointment" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Staff">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Appointment">
              <PropertyRef Name="StaffID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#Appointment@StateID#AppointmentState@ID">
          <End Role="AppointmentState" Type="Self.AppointmentState" Multiplicity="1" />
          <End Role="Appointment" Type="Self.Appointment" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="AppointmentState">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Appointment">
              <PropertyRef Name="StateID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#AppointmentDetail@AppointmentID#Appointment@ID">
          <End Role="Appointment" Type="Self.Appointment" Multiplicity="1" />
          <End Role="AppointmentDetail" Type="Self.AppointmentDetail" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Appointment">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="AppointmentDetail">
              <PropertyRef Name="AppointmentID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#AppointmentDetail@ServiceID#Service@ID">
          <End Role="Service" Type="Self.Service" Multiplicity="1" />
          <End Role="AppointmentDetail" Type="Self.AppointmentDetail" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Service">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="AppointmentDetail">
              <PropertyRef Name="ServiceID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#AppointmentDetail@StaffID#Staff@ID">
          <End Role="Staff" Type="Self.Staff" Multiplicity="1" />
          <End Role="AppointmentDetail" Type="Self.AppointmentDetail" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Staff">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="AppointmentDetail">
              <PropertyRef Name="StaffID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#Customer@DiscountCardID#DiscountCard@ID">
          <End Role="DiscountCard" Type="Self.DiscountCard" Multiplicity="0..1" />
          <End Role="Customer" Type="Self.Customer" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="DiscountCard">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Customer">
              <PropertyRef Name="DiscountCardID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#Customer@UserID#User@ID">
          <End Role="User" Type="Self.User" Multiplicity="0..1" />
          <End Role="Customer" Type="Self.Customer" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="User">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Customer">
              <PropertyRef Name="UserID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#DiscountCard@DiscountTypeID#DiscountTYpe@ID">
          <End Role="DiscountType" Type="Self.DiscountType" Multiplicity="1" />
          <End Role="DiscountCard" Type="Self.DiscountCard" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="DiscountType">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="DiscountCard">
              <PropertyRef Name="DiscountTypeID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#FinancialTransaction@AppointmentID#Appointment@iD">
          <End Role="Appointment" Type="Self.Appointment" Multiplicity="1" />
          <End Role="FinancialTransaction" Type="Self.FinancialTransaction" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Appointment">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="FinancialTransaction">
              <PropertyRef Name="AppointmentID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#FinancialTransaction@CreatedBy#User@ID">
          <End Role="User" Type="Self.User" Multiplicity="1" />
          <End Role="FinancialTransaction" Type="Self.FinancialTransaction" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="User">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="FinancialTransaction">
              <PropertyRef Name="CreatedBy" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#FinancialTransaction@CustomerID#Customer@ID">
          <End Role="Customer" Type="Self.Customer" Multiplicity="1" />
          <End Role="FinancialTransaction" Type="Self.FinancialTransaction" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Customer">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="FinancialTransaction">
              <PropertyRef Name="CustomerID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#FinancialTransaction@ModifiedBy#User@ID">
          <End Role="User" Type="Self.User" Multiplicity="0..1" />
          <End Role="FinancialTransaction" Type="Self.FinancialTransaction" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="User">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="FinancialTransaction">
              <PropertyRef Name="ModifiedBy" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#FinancialTransaction@TransactionTypeID#TransactionType@ID">
          <End Role="TransactionType" Type="Self.TransactionType" Multiplicity="1" />
          <End Role="FinancialTransaction" Type="Self.FinancialTransaction" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="TransactionType">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="FinancialTransaction">
              <PropertyRef Name="TransactionTypeID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#Privilege@GroupID#PrivelegeGroup@ID">
          <End Role="PrivelegeGroup" Type="Self.PrivelegeGroup" Multiplicity="1" />
          <End Role="Privilege" Type="Self.Privilege" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="PrivelegeGroup">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Privilege">
              <PropertyRef Name="GroupID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#Staff@UserID#User@ID">
          <End Role="User" Type="Self.User" Multiplicity="0..1" />
          <End Role="Staff" Type="Self.Staff" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="User">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Staff">
              <PropertyRef Name="UserID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#StaffService@ServiceID#Service@ID">
          <End Role="Service" Type="Self.Service" Multiplicity="1" />
          <End Role="StaffService" Type="Self.StaffService" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Service">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="StaffService">
              <PropertyRef Name="ServiceID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#StaffService@StaffID#Staff@ID">
          <End Role="Staff" Type="Self.Staff" Multiplicity="1">
            <OnDelete Action="Cascade" />
          </End>
          <End Role="StaffService" Type="Self.StaffService" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Staff">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="StaffService">
              <PropertyRef Name="StaffID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#UserPrivilege@PrivelegeID#Privelege@ID">
          <End Role="Privilege" Type="Self.Privilege" Multiplicity="1" />
          <End Role="UserPrivilege" Type="Self.UserPrivilege" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Privilege">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="UserPrivilege">
              <PropertyRef Name="PrivilegeID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK#UserPrivilege@UserID#User@ID">
          <End Role="User" Type="Self.User" Multiplicity="1">
            <OnDelete Action="Cascade" />
          </End>
          <End Role="UserPrivilege" Type="Self.UserPrivilege" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="User">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="UserPrivilege">
              <PropertyRef Name="UserID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Function Name="GetCustomerDashboardData" Aggregate="false" BuiltIn="false" NiladicFunction="false" IsComposable="false" ParameterTypeSemantics="AllowImplicitConversion" Schema="APP">
          <Parameter Name="date" Type="datetime2" Mode="In" />
        </Function>
        <Function Name="CreateFinancialTransaction" Aggregate="false" BuiltIn="false" NiladicFunction="false" IsComposable="false" ParameterTypeSemantics="AllowImplicitConversion" Schema="CST">
          <Parameter Name="userID" Type="int" Mode="In" />
          <Parameter Name="transactionTypeID" Type="int" Mode="In" />
          <Parameter Name="customerID" Type="int" Mode="In" />
          <Parameter Name="appointmentID" Type="int" Mode="In" />
          <Parameter Name="amount" Type="decimal" Mode="In" />
          <Parameter Name="comment" Type="nvarchar" Mode="In" />
        </Function>
        <Function Name="DeleteFinancialTransaction" Aggregate="false" BuiltIn="false" NiladicFunction="false" IsComposable="false" ParameterTypeSemantics="AllowImplicitConversion" Schema="CST">
          <Parameter Name="id" Type="int" Mode="In" />
        </Function>
        <Function Name="RecalculateDiscount" Aggregate="false" BuiltIn="false" NiladicFunction="false" IsComposable="false" ParameterTypeSemantics="AllowImplicitConversion" Schema="CST">
          <Parameter Name="discountCardID" Type="int" Mode="In" />
        </Function>
        <Function Name="UpdateFinancialTransaction" Aggregate="false" BuiltIn="false" NiladicFunction="false" IsComposable="false" ParameterTypeSemantics="AllowImplicitConversion" Schema="CST">
          <Parameter Name="id" Type="int" Mode="In" />
          <Parameter Name="userID" Type="int" Mode="In" />
          <Parameter Name="transactionTypeID" Type="int" Mode="In" />
          <Parameter Name="customerID" Type="int" Mode="In" />
          <Parameter Name="appointmentID" Type="int" Mode="In" />
          <Parameter Name="amount" Type="decimal" Mode="In" />
          <Parameter Name="comment" Type="nvarchar" Mode="In" />
        </Function>
        <EntityContainer Name="CRMModelStoreContainer">
          <EntitySet Name="Privilege" EntityType="Self.Privilege" Schema="ADM" store:Type="Tables" />
          <EntitySet Name="User" EntityType="Self.User" Schema="ADM" store:Type="Tables" />
          <EntitySet Name="UserPrivilege" EntityType="Self.UserPrivilege" Schema="ADM" store:Type="Tables" />
          <EntitySet Name="AppointmentState" EntityType="Self.AppointmentState" Schema="CONF" store:Type="Tables" />
          <EntitySet Name="CumulativeDiscount" EntityType="Self.CumulativeDiscount" Schema="CONF" store:Type="Tables" />
          <EntitySet Name="DiscountType" EntityType="Self.DiscountType" Schema="CONF" store:Type="Tables" />
          <EntitySet Name="PrivelegeGroup" EntityType="Self.PrivelegeGroup" Schema="CONF" store:Type="Tables" />
          <EntitySet Name="Service" EntityType="Self.Service" Schema="CONF" store:Type="Tables" />
          <EntitySet Name="TransactionType" EntityType="Self.TransactionType" Schema="CONF" store:Type="Tables" />
          <EntitySet Name="Appointment" EntityType="Self.Appointment" Schema="CST" store:Type="Tables" />
          <EntitySet Name="AppointmentDetail" EntityType="Self.AppointmentDetail" Schema="CST" store:Type="Tables" />
          <EntitySet Name="Customer" EntityType="Self.Customer" Schema="CST" store:Type="Tables" />
          <EntitySet Name="DiscountCard" EntityType="Self.DiscountCard" Schema="CST" store:Type="Tables" />
          <EntitySet Name="FinancialTransaction" EntityType="Self.FinancialTransaction" Schema="CST" store:Type="Tables" />
          <EntitySet Name="DBVersion" EntityType="Self.DBVersion" Schema="SERVICE" store:Type="Tables" />
          <EntitySet Name="Staff" EntityType="Self.Staff" Schema="STF" store:Type="Tables" />
          <EntitySet Name="StaffService" EntityType="Self.StaffService" Schema="STF" store:Type="Tables" />
          <EntitySet Name="AppointmentView" EntityType="Self.AppointmentView" store:Type="Views" store:Schema="CST">
            <DefiningQuery>SELECT 
    [AppointmentView].[AppointmentID] AS [AppointmentID], 
    [AppointmentView].[CustomerID] AS [CustomerID], 
    [AppointmentView].[CustomerFirstName] AS [CustomerFirstName], 
    [AppointmentView].[CustomerLastName] AS [CustomerLastName], 
    [AppointmentView].[CustomerMiddleName] AS [CustomerMiddleName], 
    [AppointmentView].[DiscountCardCode] AS [DiscountCardCode], 
    [AppointmentView].[DiscountCardPercent] AS [DiscountCardPercent], 
    [AppointmentView].[DiscountCardTotalPurchaseValue] AS [DiscountCardTotalPurchaseValue], 
    [AppointmentView].[DiscountCardMinDiscount] AS [DiscountCardMinDiscount], 
    [AppointmentView].[DiscountCardMaxDiscount] AS [DiscountCardMaxDiscount], 
    [AppointmentView].[StartTime] AS [StartTime], 
    [AppointmentView].[EndTime] AS [EndTime], 
    [AppointmentView].[StaffID] AS [StaffID], 
    [AppointmentView].[Purpose] AS [Purpose], 
    [AppointmentView].[Price] AS [Price], 
    [AppointmentView].[DiscountPercent] AS [DiscountPercent], 
    [AppointmentView].[Discount] AS [Discount], 
    [AppointmentView].[ToPay] AS [ToPay], 
    [AppointmentView].[Payed] AS [Payed], 
    [AppointmentView].[StateID] AS [StateID], 
    [AppointmentView].[CreationTime] AS [CreationTime], 
    [AppointmentView].[CreatedBy] AS [CreatedBy], 
    [AppointmentView].[ModificationTime] AS [ModificationTime], 
    [AppointmentView].[ModifiedBy] AS [ModifiedBy]
    FROM [CST].[AppointmentView] AS [AppointmentView]</DefiningQuery>
          </EntitySet>
          <EntitySet Name="CustomerView" EntityType="Self.CustomerView" store:Type="Views" store:Schema="CST">
            <DefiningQuery>SELECT 
    [CustomerView].[CustomerID] AS [CustomerID], 
    [CustomerView].[FirstName] AS [FirstName], 
    [CustomerView].[LastName] AS [LastName], 
    [CustomerView].[MiddleName] AS [MiddleName], 
    [CustomerView].[Gender] AS [Gender], 
    [CustomerView].[Country] AS [Country], 
    [CustomerView].[City] AS [City], 
    [CustomerView].[Region] AS [Region], 
    [CustomerView].[Zip] AS [Zip], 
    [CustomerView].[Phone] AS [Phone], 
    [CustomerView].[MobilePhone] AS [MobilePhone], 
    [CustomerView].[Email] AS [Email], 
    [CustomerView].[Address] AS [Address], 
    [CustomerView].[BirthDate] AS [BirthDate], 
    [CustomerView].[MoneyBalance] AS [MoneyBalance], 
    [CustomerView].[NotifyByEmail] AS [NotifyByEmail], 
    [CustomerView].[NotifyBySms] AS [NotifyBySms], 
    [CustomerView].[NotifyByPost] AS [NotifyByPost], 
    [CustomerView].[CreationTime] AS [CreationTime], 
    [CustomerView].[ModificationTime] AS [ModificationTime], 
    [CustomerView].[DiscountcardID] AS [DiscountcardID], 
    [CustomerView].[DiscountCardCode] AS [DiscountCardCode], 
    [CustomerView].[DiscountPercent] AS [DiscountPercent], 
    [CustomerView].[FirstVisit] AS [FirstVisit], 
    [CustomerView].[LastVisit] AS [LastVisit], 
    [CustomerView].[NextVisit] AS [NextVisit]
    FROM [CST].[CustomerView] AS [CustomerView]</DefiningQuery>
          </EntitySet>
          <EntitySet Name="FinancialTransactionView" EntityType="Self.FinancialTransactionView" store:Type="Views" store:Schema="CST">
            <DefiningQuery>SELECT 
    [FinancialTransactionView].[ID] AS [ID], 
    [FinancialTransactionView].[CustomerID] AS [CustomerID], 
    [FinancialTransactionView].[CustomerFirstName] AS [CustomerFirstName], 
    [FinancialTransactionView].[CustomerLastName] AS [CustomerLastName], 
    [FinancialTransactionView].[CustomerMiddleName] AS [CustomerMiddleName], 
    [FinancialTransactionView].[DiscountCardCode] AS [DiscountCardCode], 
    [FinancialTransactionView].[DiscountCardPercent] AS [DiscountCardPercent], 
    [FinancialTransactionView].[DiscountCardTotalPurchaseValue] AS [DiscountCardTotalPurchaseValue], 
    [FinancialTransactionView].[DiscountCardMinDiscount] AS [DiscountCardMinDiscount], 
    [FinancialTransactionView].[DiscountCardMaxDiscount] AS [DiscountCardMaxDiscount], 
    [FinancialTransactionView].[AppointmentID] AS [AppointmentID], 
    [FinancialTransactionView].[AppointmentPurpose] AS [AppointmentPurpose], 
    [FinancialTransactionView].[AppointmentStartTime] AS [AppointmentStartTime], 
    [FinancialTransactionView].[AppointmentEndTime] AS [AppointmentEndTime], 
    [FinancialTransactionView].[StaffID] AS [StaffID], 
    [FinancialTransactionView].[Price] AS [Price], 
    [FinancialTransactionView].[ToPay] AS [ToPay], 
    [FinancialTransactionView].[DiscountPercent] AS [DiscountPercent], 
    [FinancialTransactionView].[Discount] AS [Discount], 
    [FinancialTransactionView].[TransactionTypeID] AS [TransactionTypeID], 
    [FinancialTransactionView].[Amount] AS [Amount], 
    [FinancialTransactionView].[Comment] AS [Comment], 
    [FinancialTransactionView].[CreationTime] AS [CreationTime], 
    [FinancialTransactionView].[CreatedBy] AS [CreatedBy], 
    [FinancialTransactionView].[ModificationTime] AS [ModificationTime], 
    [FinancialTransactionView].[ModifiedBy] AS [ModifiedBy], 
    [FinancialTransactionView].[IsCanceled] AS [IsCanceled]
    FROM [CST].[FinancialTransactionView] AS [FinancialTransactionView]</DefiningQuery>
          </EntitySet>
          <AssociationSet Name="FK#Appointment@CreatedBy#User@ID" Association="Self.FK#Appointment@CreatedBy#User@ID">
            <End Role="User" EntitySet="User" />
            <End Role="Appointment" EntitySet="Appointment" />
          </AssociationSet>
          <AssociationSet Name="FK#Appointment@CustomerID#Customer@ID" Association="Self.FK#Appointment@CustomerID#Customer@ID">
            <End Role="Customer" EntitySet="Customer" />
            <End Role="Appointment" EntitySet="Appointment" />
          </AssociationSet>
          <AssociationSet Name="FK#Appointment@ModfiedBy#User@ID" Association="Self.FK#Appointment@ModfiedBy#User@ID">
            <End Role="User" EntitySet="User" />
            <End Role="Appointment" EntitySet="Appointment" />
          </AssociationSet>
          <AssociationSet Name="FK#Appointment@StaffID#Staff@ID" Association="Self.FK#Appointment@StaffID#Staff@ID">
            <End Role="Staff" EntitySet="Staff" />
            <End Role="Appointment" EntitySet="Appointment" />
          </AssociationSet>
          <AssociationSet Name="FK#Appointment@StateID#AppointmentState@ID" Association="Self.FK#Appointment@StateID#AppointmentState@ID">
            <End Role="AppointmentState" EntitySet="AppointmentState" />
            <End Role="Appointment" EntitySet="Appointment" />
          </AssociationSet>
          <AssociationSet Name="FK#AppointmentDetail@AppointmentID#Appointment@ID" Association="Self.FK#AppointmentDetail@AppointmentID#Appointment@ID">
            <End Role="Appointment" EntitySet="Appointment" />
            <End Role="AppointmentDetail" EntitySet="AppointmentDetail" />
          </AssociationSet>
          <AssociationSet Name="FK#AppointmentDetail@ServiceID#Service@ID" Association="Self.FK#AppointmentDetail@ServiceID#Service@ID">
            <End Role="Service" EntitySet="Service" />
            <End Role="AppointmentDetail" EntitySet="AppointmentDetail" />
          </AssociationSet>
          <AssociationSet Name="FK#AppointmentDetail@StaffID#Staff@ID" Association="Self.FK#AppointmentDetail@StaffID#Staff@ID">
            <End Role="Staff" EntitySet="Staff" />
            <End Role="AppointmentDetail" EntitySet="AppointmentDetail" />
          </AssociationSet>
          <AssociationSet Name="FK#Customer@DiscountCardID#DiscountCard@ID" Association="Self.FK#Customer@DiscountCardID#DiscountCard@ID">
            <End Role="DiscountCard" EntitySet="DiscountCard" />
            <End Role="Customer" EntitySet="Customer" />
          </AssociationSet>
          <AssociationSet Name="FK#Customer@UserID#User@ID" Association="Self.FK#Customer@UserID#User@ID">
            <End Role="User" EntitySet="User" />
            <End Role="Customer" EntitySet="Customer" />
          </AssociationSet>
          <AssociationSet Name="FK#DiscountCard@DiscountTypeID#DiscountTYpe@ID" Association="Self.FK#DiscountCard@DiscountTypeID#DiscountTYpe@ID">
            <End Role="DiscountType" EntitySet="DiscountType" />
            <End Role="DiscountCard" EntitySet="DiscountCard" />
          </AssociationSet>
          <AssociationSet Name="FK#FinancialTransaction@AppointmentID#Appointment@iD" Association="Self.FK#FinancialTransaction@AppointmentID#Appointment@iD">
            <End Role="Appointment" EntitySet="Appointment" />
            <End Role="FinancialTransaction" EntitySet="FinancialTransaction" />
          </AssociationSet>
          <AssociationSet Name="FK#FinancialTransaction@CreatedBy#User@ID" Association="Self.FK#FinancialTransaction@CreatedBy#User@ID">
            <End Role="User" EntitySet="User" />
            <End Role="FinancialTransaction" EntitySet="FinancialTransaction" />
          </AssociationSet>
          <AssociationSet Name="FK#FinancialTransaction@CustomerID#Customer@ID" Association="Self.FK#FinancialTransaction@CustomerID#Customer@ID">
            <End Role="Customer" EntitySet="Customer" />
            <End Role="FinancialTransaction" EntitySet="FinancialTransaction" />
          </AssociationSet>
          <AssociationSet Name="FK#FinancialTransaction@ModifiedBy#User@ID" Association="Self.FK#FinancialTransaction@ModifiedBy#User@ID">
            <End Role="User" EntitySet="User" />
            <End Role="FinancialTransaction" EntitySet="FinancialTransaction" />
          </AssociationSet>
          <AssociationSet Name="FK#FinancialTransaction@TransactionTypeID#TransactionType@ID" Association="Self.FK#FinancialTransaction@TransactionTypeID#TransactionType@ID">
            <End Role="TransactionType" EntitySet="TransactionType" />
            <End Role="FinancialTransaction" EntitySet="FinancialTransaction" />
          </AssociationSet>
          <AssociationSet Name="FK#Privilege@GroupID#PrivelegeGroup@ID" Association="Self.FK#Privilege@GroupID#PrivelegeGroup@ID">
            <End Role="PrivelegeGroup" EntitySet="PrivelegeGroup" />
            <End Role="Privilege" EntitySet="Privilege" />
          </AssociationSet>
          <AssociationSet Name="FK#Staff@UserID#User@ID" Association="Self.FK#Staff@UserID#User@ID">
            <End Role="User" EntitySet="User" />
            <End Role="Staff" EntitySet="Staff" />
          </AssociationSet>
          <AssociationSet Name="FK#StaffService@ServiceID#Service@ID" Association="Self.FK#StaffService@ServiceID#Service@ID">
            <End Role="Service" EntitySet="Service" />
            <End Role="StaffService" EntitySet="StaffService" />
          </AssociationSet>
          <AssociationSet Name="FK#StaffService@StaffID#Staff@ID" Association="Self.FK#StaffService@StaffID#Staff@ID">
            <End Role="Staff" EntitySet="Staff" />
            <End Role="StaffService" EntitySet="StaffService" />
          </AssociationSet>
          <AssociationSet Name="FK#UserPrivilege@PrivelegeID#Privelege@ID" Association="Self.FK#UserPrivilege@PrivelegeID#Privelege@ID">
            <End Role="Privilege" EntitySet="Privilege" />
            <End Role="UserPrivilege" EntitySet="UserPrivilege" />
          </AssociationSet>
          <AssociationSet Name="FK#UserPrivilege@UserID#User@ID" Association="Self.FK#UserPrivilege@UserID#User@ID">
            <End Role="User" EntitySet="User" />
            <End Role="UserPrivilege" EntitySet="UserPrivilege" />
          </AssociationSet>
        </EntityContainer>
      </Schema></edmx:StorageModels>
    <!-- CSDL content -->
    <edmx:ConceptualModels>
      <Schema Namespace="CRMModel" Alias="Self" annotation:UseStrongSpatialTypes="false" xmlns:annotation="http://schemas.microsoft.com/ado/2009/02/edm/annotation" xmlns="http://schemas.microsoft.com/ado/2009/11/edm">
        <EntityContainer Name="CRMContext" annotation:LazyLoadingEnabled="true">
          <EntitySet Name="Privileges" EntityType="CRMModel.Privilege" />
          <EntitySet Name="Users" EntityType="CRMModel.User" />
          <EntitySet Name="AppointmentStates" EntityType="CRMModel.AppointmentState" />
          <EntitySet Name="CumulativeDiscounts" EntityType="CRMModel.CumulativeDiscount" />
          <EntitySet Name="DiscountTypes" EntityType="CRMModel.DiscountType" />
          <EntitySet Name="PrivelegeGroups" EntityType="CRMModel.PrivelegeGroup" />
          <EntitySet Name="TransactionTypes" EntityType="CRMModel.TransactionType" />
          <EntitySet Name="Appointments" EntityType="CRMModel.Appointment" />
          <EntitySet Name="Customers" EntityType="CRMModel.Customer" />
          <EntitySet Name="DiscountCards" EntityType="CRMModel.DiscountCard" />
          <EntitySet Name="FinancialTransactions" EntityType="CRMModel.FinancialTransaction" />
          <EntitySet Name="Staffs" EntityType="CRMModel.Staff" />
          <AssociationSet Name="FK_Privilege_GroupID_PrivelegeGroup_ID" Association="CRMModel.FK_Privilege_GroupID_PrivelegeGroup_ID">
            <End Role="PrivelegeGroup" EntitySet="PrivelegeGroups" />
            <End Role="Privilege" EntitySet="Privileges" />
          </AssociationSet>
          <AssociationSet Name="FK_Appointment_CreatedBy_User_ID" Association="CRMModel.FK_Appointment_CreatedBy_User_ID">
            <End Role="User" EntitySet="Users" />
            <End Role="Appointment" EntitySet="Appointments" />
          </AssociationSet>
          <AssociationSet Name="FK_Appointment_ModfiedBy_User_ID" Association="CRMModel.FK_Appointment_ModfiedBy_User_ID">
            <End Role="User" EntitySet="Users" />
            <End Role="Appointment" EntitySet="Appointments" />
          </AssociationSet>
          <AssociationSet Name="FK_Customer_UserID_User_ID" Association="CRMModel.FK_Customer_UserID_User_ID">
            <End Role="User" EntitySet="Users" />
            <End Role="Customer" EntitySet="Customers" />
          </AssociationSet>
          <AssociationSet Name="FK_FinancialTransaction_CreatedBy_User_ID" Association="CRMModel.FK_FinancialTransaction_CreatedBy_User_ID">
            <End Role="User" EntitySet="Users" />
            <End Role="FinancialTransaction" EntitySet="FinancialTransactions" />
          </AssociationSet>
          <AssociationSet Name="FK_FinancialTransaction_ModifiedBy_User_ID" Association="CRMModel.FK_FinancialTransaction_ModifiedBy_User_ID">
            <End Role="User" EntitySet="Users" />
            <End Role="FinancialTransaction" EntitySet="FinancialTransactions" />
          </AssociationSet>
          <AssociationSet Name="FK_Staff_UserID_User_ID" Association="CRMModel.FK_Staff_UserID_User_ID">
            <End Role="User" EntitySet="Users" />
            <End Role="Staff" EntitySet="Staffs" />
          </AssociationSet>
          <AssociationSet Name="FK_Appointment_StateID_AppointmentState_ID" Association="CRMModel.FK_Appointment_StateID_AppointmentState_ID">
            <End Role="AppointmentState" EntitySet="AppointmentStates" />
            <End Role="Appointment" EntitySet="Appointments" />
          </AssociationSet>
          <AssociationSet Name="FK_DiscountCard_DiscountTypeID_DiscountTYpe_ID" Association="CRMModel.FK_DiscountCard_DiscountTypeID_DiscountTYpe_ID">
            <End Role="DiscountType" EntitySet="DiscountTypes" />
            <End Role="DiscountCard" EntitySet="DiscountCards" />
          </AssociationSet>
          <AssociationSet Name="FK_FinancialTransaction_TransactionTypeID_TransactionType_ID" Association="CRMModel.FK_FinancialTransaction_TransactionTypeID_TransactionType_ID">
            <End Role="TransactionType" EntitySet="TransactionTypes" />
            <End Role="FinancialTransaction" EntitySet="FinancialTransactions" />
          </AssociationSet>
          <AssociationSet Name="FK_Appointment_CustomerID_Customer_ID" Association="CRMModel.FK_Appointment_CustomerID_Customer_ID">
            <End Role="Customer" EntitySet="Customers" />
            <End Role="Appointment" EntitySet="Appointments" />
          </AssociationSet>
          <AssociationSet Name="FK_Appointment_StaffID_Staff_ID" Association="CRMModel.FK_Appointment_StaffID_Staff_ID">
            <End Role="Staff" EntitySet="Staffs" />
            <End Role="Appointment" EntitySet="Appointments" />
          </AssociationSet>
          <AssociationSet Name="FK_FinancialTransaction_AppointmentID_Appointment_iD" Association="CRMModel.FK_FinancialTransaction_AppointmentID_Appointment_iD">
            <End Role="Appointment" EntitySet="Appointments" />
            <End Role="FinancialTransaction" EntitySet="FinancialTransactions" />
          </AssociationSet>
          <AssociationSet Name="FK_Customer_DiscountCardID_DiscountCard_ID" Association="CRMModel.FK_Customer_DiscountCardID_DiscountCard_ID">
            <End Role="DiscountCard" EntitySet="DiscountCards" />
            <End Role="Customer" EntitySet="Customers" />
          </AssociationSet>
          <AssociationSet Name="FK_FinancialTransaction_CustomerID_Customer_ID" Association="CRMModel.FK_FinancialTransaction_CustomerID_Customer_ID">
            <End Role="Customer" EntitySet="Customers" />
            <End Role="FinancialTransaction" EntitySet="FinancialTransactions" />
          </AssociationSet>
          <AssociationSet Name="UserPrivilege" Association="CRMModel.UserPrivilege">
            <End Role="Privilege" EntitySet="Privileges" />
            <End Role="User" EntitySet="Users" />
          </AssociationSet>
          <EntitySet Name="AppointmentView" EntityType="CRMModel.AppointmentView" />
          <FunctionImport Name="CreateFinancialTransaction">
            <Parameter Name="userID" Mode="In" Type="Int32" />
            <Parameter Name="transactionTypeID" Mode="In" Type="Int32" />
            <Parameter Name="customerID" Mode="In" Type="Int32" />
            <Parameter Name="appointmentID" Mode="In" Type="Int32" />
            <Parameter Name="amount" Mode="In" Type="Decimal" />
            <Parameter Name="comment" Mode="In" Type="String" />
          </FunctionImport>
          <EntitySet Name="CustomerView" EntityType="CRMModel.CustomerView" />
          <FunctionImport Name="GetCustomerDashboardData" ReturnType="Collection(CRMModel.CustomerDashboardData)" >
          <Parameter Name="date" Mode="In" Type="DateTime" />
          </FunctionImport>
          <FunctionImport Name="DeleteFinancialTransaction">
          <Parameter Name="id" Mode="In" Type="Int32" />
          </FunctionImport>
          <FunctionImport Name="UpdateFinancialTransaction">
            <Parameter Name="id" Mode="In" Type="Int32" />
            <Parameter Name="userID" Mode="In" Type="Int32" />
            <Parameter Name="transactionTypeID" Mode="In" Type="Int32" />
            <Parameter Name="customerID" Mode="In" Type="Int32" />
            <Parameter Name="appointmentID" Mode="In" Type="Int32" />
            <Parameter Name="amount" Mode="In" Type="Decimal" />
            <Parameter Name="comment" Mode="In" Type="String" />
          </FunctionImport>
          <EntitySet Name="FinancialTransactionView" EntityType="CRMModel.FinancialTransactionView" />
          <FunctionImport Name="RecalculateDiscount" EntitySet="DiscountCards" ReturnType="Collection(CRMModel.DiscountCard)">
          <Parameter Name="discountCardID" Mode="In" Type="Int32" />
          </FunctionImport>
          <EntitySet Name="DBVersions" EntityType="CRMModel.DBVersion" />
          <EntitySet Name="Services" EntityType="CRMModel.Service" />
          <AssociationSet Name="StaffService" Association="CRMModel.StaffService">
            <End Role="Service" EntitySet="Services" />
            <End Role="Staff" EntitySet="Staffs" />
          </AssociationSet>
          <EntitySet Name="AppointmentDetails" EntityType="CRMModel.AppointmentDetail" />
          <AssociationSet Name="FK_AppointmentDetail_ServiceID_Service_ID" Association="CRMModel.FK_AppointmentDetail_ServiceID_Service_ID">
            <End Role="Service" EntitySet="Services" />
            <End Role="AppointmentDetail" EntitySet="AppointmentDetails" />
          </AssociationSet>
          <AssociationSet Name="FK_AppointmentDetail_AppointmentID_Appointment_ID" Association="CRMModel.FK_AppointmentDetail_AppointmentID_Appointment_ID">
            <End Role="Appointment" EntitySet="Appointments" />
            <End Role="AppointmentDetail" EntitySet="AppointmentDetails" />
          </AssociationSet>
          <AssociationSet Name="FK_AppointmentDetail_StaffID_Staff_ID" Association="CRMModel.FK_AppointmentDetail_StaffID_Staff_ID">
            <End Role="Staff" EntitySet="Staffs" />
            <End Role="AppointmentDetail" EntitySet="AppointmentDetails" />
          </AssociationSet>
        </EntityContainer>
        <EntityType Name="Privilege">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="Int32" Nullable="false" />
          <Property Name="Name" Type="String" Nullable="false" MaxLength="256" FixedLength="false" Unicode="true" />
          <Property Name="Description" Type="String" Nullable="false" MaxLength="256" FixedLength="false" Unicode="true" />
          <Property Name="GroupID" Type="Int32" Nullable="false" />
          <NavigationProperty Name="PrivelegeGroup" Relationship="CRMModel.FK_Privilege_GroupID_PrivelegeGroup_ID" FromRole="Privilege" ToRole="PrivelegeGroup" />
          <NavigationProperty Name="Users" Relationship="CRMModel.UserPrivilege" FromRole="Privilege" ToRole="User" />
        </EntityType>
        <EntityType Name="User">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Login" Type="String" Nullable="false" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="Password" Type="String" Nullable="false" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="Email" Type="String" MaxLength="255" FixedLength="false" Unicode="true" />
          <Property Name="ExpirationDate" Type="DateTime" Precision="0" />
          <Property Name="IsSystem" Type="Boolean" Nullable="false" />
          <NavigationProperty Name="CreatedAppointments" Relationship="CRMModel.FK_Appointment_CreatedBy_User_ID" FromRole="User" ToRole="Appointment" />
          <NavigationProperty Name="ModifiedAppointments" Relationship="CRMModel.FK_Appointment_ModfiedBy_User_ID" FromRole="User" ToRole="Appointment" />
          <NavigationProperty Name="Customers" Relationship="CRMModel.FK_Customer_UserID_User_ID" FromRole="User" ToRole="Customer" />
          <NavigationProperty Name="CreatedFinancialTransaction" Relationship="CRMModel.FK_FinancialTransaction_CreatedBy_User_ID" FromRole="User" ToRole="FinancialTransaction" />
          <NavigationProperty Name="ModifiedFinancialTransaction" Relationship="CRMModel.FK_FinancialTransaction_ModifiedBy_User_ID" FromRole="User" ToRole="FinancialTransaction" />
          <NavigationProperty Name="Staffs" Relationship="CRMModel.FK_Staff_UserID_User_ID" FromRole="User" ToRole="Staff" />
          <NavigationProperty Name="Privileges" Relationship="CRMModel.UserPrivilege" FromRole="User" ToRole="Privilege" />
        </EntityType>
        <EntityType Name="AppointmentState">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="Int32" Nullable="false" a:GetterAccess="Public" xmlns:a="http://schemas.microsoft.com/ado/2006/04/codegeneration" a:SetterAccess="Public" />
          <Property Name="Code" Type="String" Nullable="false" MaxLength="50" FixedLength="false" Unicode="false" a:GetterAccess="Public" xmlns:a="http://schemas.microsoft.com/ado/2006/04/codegeneration" a:SetterAccess="Public" />
          <Property Name="Name" Type="String" Nullable="false" MaxLength="255" FixedLength="false" Unicode="true" a:GetterAccess="Public" xmlns:a="http://schemas.microsoft.com/ado/2006/04/codegeneration" a:SetterAccess="Public" />
          <Property Name="Description" Type="String" MaxLength="4000" FixedLength="false" Unicode="true" a:GetterAccess="Public" xmlns:a="http://schemas.microsoft.com/ado/2006/04/codegeneration" a:SetterAccess="Public" />
          <NavigationProperty Name="Appointments" Relationship="CRMModel.FK_Appointment_StateID_AppointmentState_ID" FromRole="AppointmentState" ToRole="Appointment" />
        </EntityType>
        <EntityType Name="CumulativeDiscount">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Percent" Type="Decimal" Nullable="false" Precision="4" Scale="2" />
          <Property Name="MinDiscount" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="MaxDiscount" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="PurchaseTopLimit" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="Name" Type="String" Nullable="false" MaxLength="255" FixedLength="false" Unicode="true" />
          </EntityType>
        <EntityType Name="DiscountType">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="Int32" Nullable="false" />
          <Property Name="Code" Type="String" Nullable="false" MaxLength="255" FixedLength="false" Unicode="false" />
          <Property Name="Name" Type="String" Nullable="false" MaxLength="255" FixedLength="false" Unicode="true" />
          <Property Name="Description" Type="String" MaxLength="4000" FixedLength="false" Unicode="true" />
          <NavigationProperty Name="DiscountCards" Relationship="CRMModel.FK_DiscountCard_DiscountTypeID_DiscountTYpe_ID" FromRole="DiscountType" ToRole="DiscountCard" />
        </EntityType>
        <EntityType Name="PrivelegeGroup">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="Int32" Nullable="false" />
          <Property Name="Code" Type="String" Nullable="false" MaxLength="50" FixedLength="false" Unicode="false" />
          <Property Name="Name" Type="String" Nullable="false" MaxLength="255" FixedLength="false" Unicode="true" />
          <Property Name="Description" Type="String" MaxLength="4000" FixedLength="false" Unicode="true" />
          <NavigationProperty Name="Privileges" Relationship="CRMModel.FK_Privilege_GroupID_PrivelegeGroup_ID" FromRole="PrivelegeGroup" ToRole="Privilege" />
        </EntityType>
        <EntityType Name="TransactionType">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Code" Type="String" Nullable="false" MaxLength="50" FixedLength="false" Unicode="false" />
          <Property Name="Name" Type="String" Nullable="false" MaxLength="255" FixedLength="false" Unicode="true" />
          <Property Name="Description" Type="String" MaxLength="4000" FixedLength="false" Unicode="true" />
          <Property Name="OperationSign" Type="Int32" Nullable="false" />
          <NavigationProperty Name="FinancialTransactions" Relationship="CRMModel.FK_FinancialTransaction_TransactionTypeID_TransactionType_ID" FromRole="TransactionType" ToRole="FinancialTransaction" />
        </EntityType>
        <EntityType Name="Appointment">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="CustomerID" Type="Int32" Nullable="false" />
          <Property Name="StartTime" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="EndTime" Type="DateTime" Precision="3" Nullable="false" />
          <Property Name="StaffID" Type="Int32" Nullable="false" />
          <Property Name="Purpose" Type="String" Nullable="false" MaxLength="4000" FixedLength="false" Unicode="true" />
          <Property Name="Price" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="DiscountPercent" Type="Decimal" Nullable="false" Precision="4" Scale="2" />
          <Property Name="Discount" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="ToPay" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="StateID" Type="Int32" Nullable="false" />
          <Property Name="CreatedBy" Type="Int32" Nullable="false" />
          <Property Name="ModificationTime" Type="DateTime" Precision="3" />
          <Property Name="ModifiedBy" Type="Int32" />
          <NavigationProperty Name="CreatedByUser" Relationship="CRMModel.FK_Appointment_CreatedBy_User_ID" FromRole="Appointment" ToRole="User" />
          <NavigationProperty Name="ModifiedByUser" Relationship="CRMModel.FK_Appointment_ModfiedBy_User_ID" FromRole="Appointment" ToRole="User" />
          <NavigationProperty Name="AppointmentState" Relationship="CRMModel.FK_Appointment_StateID_AppointmentState_ID" FromRole="Appointment" ToRole="AppointmentState" />
          <NavigationProperty Name="Customer" Relationship="CRMModel.FK_Appointment_CustomerID_Customer_ID" FromRole="Appointment" ToRole="Customer" />
          <NavigationProperty Name="Staff" Relationship="CRMModel.FK_Appointment_StaffID_Staff_ID" FromRole="Appointment" ToRole="Staff" />
          <NavigationProperty Name="FinancialTransactions" Relationship="CRMModel.FK_FinancialTransaction_AppointmentID_Appointment_iD" FromRole="Appointment" ToRole="FinancialTransaction" />
          <Property Name="CreationTime" Type="DateTime" Nullable="false" Precision="3" />
          <NavigationProperty Name="AppointmentDetails" Relationship="CRMModel.FK_AppointmentDetail_AppointmentID_Appointment_ID" FromRole="Appointment" ToRole="AppointmentDetail" />
        </EntityType>
        <EntityType Name="Customer">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="LastName" Type="String" Nullable="false" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="MiddleName" Type="String" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="Phone" Type="String" MaxLength="18" FixedLength="false" Unicode="false" />
          <Property Name="Email" Type="String" MaxLength="255" FixedLength="false" Unicode="false" />
          <Property Name="Address" Type="String" MaxLength="4000" FixedLength="false" Unicode="true" />
          <Property Name="BirthDate" Type="DateTime" Precision="7" />
          <Property Name="DiscountCardID" Type="Int32" />
          <Property Name="UserID" Type="Int32" />
          <Property Name="Photo" Type="Binary" MaxLength="Max" FixedLength="false" />
          <Property Name="MoneyBalance" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <NavigationProperty Name="User" Relationship="CRMModel.FK_Customer_UserID_User_ID" FromRole="Customer" ToRole="User" />
          <NavigationProperty Name="Appointments" Relationship="CRMModel.FK_Appointment_CustomerID_Customer_ID" FromRole="Customer" ToRole="Appointment" />
          <NavigationProperty Name="DiscountCard" Relationship="CRMModel.FK_Customer_DiscountCardID_DiscountCard_ID" FromRole="Customer" ToRole="DiscountCard" />
          <NavigationProperty Name="FinancialTransactions" Relationship="CRMModel.FK_FinancialTransaction_CustomerID_Customer_ID" FromRole="Customer" ToRole="FinancialTransaction" />
          <Property Name="MobilePhone" Type="String" MaxLength="18" FixedLength="false" Unicode="false" />
          <Property Name="Gender" Type="Int32" Nullable="false" />
          <Property Name="Country" Type="String" MaxLength="4000" FixedLength="false" Unicode="true" />
          <Property Name="City" Type="String" MaxLength="4000" FixedLength="false" Unicode="true" />
          <Property Name="Region" Type="String" MaxLength="4000" FixedLength="false" Unicode="true" />
          <Property Name="Zip" Type="Int32" />
          <Property Name="NotifyByEmail" Type="Boolean" Nullable="false" />
          <Property Name="NotifyBySms" Type="Boolean" Nullable="false" />
          <Property Name="NotifyByPost" Type="Boolean" Nullable="false" />
          <Property Name="CreationTime" Type="DateTime" Nullable="false" Precision="7" />
          <Property Name="ModificationTime" Type="DateTime" Precision="7" />
          <Property Name="FirstName" Type="String" Nullable="false" MaxLength="100" FixedLength="false" Unicode="true" />
        </EntityType>
        <EntityType Name="DiscountCard">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Code" Type="String" Nullable="false" MaxLength="50" FixedLength="false" Unicode="false" />
          <Property Name="DiscountPercent" Type="Decimal" Nullable="false" Precision="4" Scale="2" />
          <Property Name="TotalPurchaseValue" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="DiscountTypeID" Type="Int32" Nullable="false" />
          <NavigationProperty Name="DiscountType" Relationship="CRMModel.FK_DiscountCard_DiscountTypeID_DiscountTYpe_ID" FromRole="DiscountCard" ToRole="DiscountType" />
          <NavigationProperty Name="Customers" Relationship="CRMModel.FK_Customer_DiscountCardID_DiscountCard_ID" FromRole="DiscountCard" ToRole="Customer" />
          <Property Name="MinDiscount" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="MaxDiscount" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="FixedDiscount" Type="Boolean" Nullable="false" />
          <Property Name="InitialDiscountPercent" Type="Decimal" Nullable="false" Precision="4" Scale="2" />
        </EntityType>
        <EntityType Name="FinancialTransaction">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="CustomerID" Type="Int32" Nullable="false" />
          <Property Name="AppointmentID" Type="Int32" Nullable="false" />
          <Property Name="TransactionTypeID" Type="Int32" Nullable="false" />
          <Property Name="Amount" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="Comment" Type="String" MaxLength="4000" FixedLength="false" Unicode="true" />
          <Property Name="CreatedBy" Type="Int32" Nullable="false" />
          <Property Name="ModificationTime" Type="DateTime" Precision="3" />
          <Property Name="ModifiedBy" Type="Int32" />
          <NavigationProperty Name="CreatedByUser" Relationship="CRMModel.FK_FinancialTransaction_CreatedBy_User_ID" FromRole="FinancialTransaction" ToRole="User" />
          <NavigationProperty Name="ModifiedByUser" Relationship="CRMModel.FK_FinancialTransaction_ModifiedBy_User_ID" FromRole="FinancialTransaction" ToRole="User" />
          <NavigationProperty Name="TransactionType" Relationship="CRMModel.FK_FinancialTransaction_TransactionTypeID_TransactionType_ID" FromRole="FinancialTransaction" ToRole="TransactionType" />
          <NavigationProperty Name="Appointment" Relationship="CRMModel.FK_FinancialTransaction_AppointmentID_Appointment_iD" FromRole="FinancialTransaction" ToRole="Appointment" />
          <NavigationProperty Name="Customer" Relationship="CRMModel.FK_FinancialTransaction_CustomerID_Customer_ID" FromRole="FinancialTransaction" ToRole="Customer" />
          <Property Name="CreationTime" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="IsCanceled" Type="Boolean" Nullable="false" />
        </EntityType>
        <EntityType Name="Staff">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="FirstName" Type="String" Nullable="false" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="LastName" Type="String" Nullable="false" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="MiddleName" Type="String" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="Photo" Type="Binary" MaxLength="Max" FixedLength="false" />
          <Property Name="DismissalDate" Type="DateTime" Precision="0" />
          <Property Name="UserID" Type="Int32" />
          <NavigationProperty Name="User" Relationship="CRMModel.FK_Staff_UserID_User_ID" FromRole="Staff" ToRole="User" />
          <NavigationProperty Name="Appointments" Relationship="CRMModel.FK_Appointment_StaffID_Staff_ID" FromRole="Staff" ToRole="Appointment" />
          <Property Name="Position" Type="String" Nullable="false" MaxLength="4000" FixedLength="false" Unicode="true" />
          <NavigationProperty Name="Services" Relationship="CRMModel.StaffService" FromRole="Staff" ToRole="Service" />
          <NavigationProperty Name="AppointmentDetails" Relationship="CRMModel.FK_AppointmentDetail_StaffID_Staff_ID" FromRole="Staff" ToRole="AppointmentDetail" />
        </EntityType>
        <Association Name="FK_Privilege_GroupID_PrivelegeGroup_ID">
          <End Type="CRMModel.PrivelegeGroup" Role="PrivelegeGroup" Multiplicity="1" />
          <End Type="CRMModel.Privilege" Role="Privilege" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="PrivelegeGroup">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Privilege">
              <PropertyRef Name="GroupID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Appointment_CreatedBy_User_ID">
          <End Type="CRMModel.User" Role="User" Multiplicity="1" />
          <End Type="CRMModel.Appointment" Role="Appointment" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="User">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Appointment">
              <PropertyRef Name="CreatedBy" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Appointment_ModfiedBy_User_ID">
          <End Type="CRMModel.User" Role="User" Multiplicity="0..1" />
          <End Type="CRMModel.Appointment" Role="Appointment" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="User">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Appointment">
              <PropertyRef Name="ModifiedBy" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Customer_UserID_User_ID">
          <End Type="CRMModel.User" Role="User" Multiplicity="0..1" />
          <End Type="CRMModel.Customer" Role="Customer" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="User">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Customer">
              <PropertyRef Name="UserID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_FinancialTransaction_CreatedBy_User_ID">
          <End Type="CRMModel.User" Role="User" Multiplicity="1" />
          <End Type="CRMModel.FinancialTransaction" Role="FinancialTransaction" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="User">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="FinancialTransaction">
              <PropertyRef Name="CreatedBy" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_FinancialTransaction_ModifiedBy_User_ID">
          <End Type="CRMModel.User" Role="User" Multiplicity="0..1" />
          <End Type="CRMModel.FinancialTransaction" Role="FinancialTransaction" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="User">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="FinancialTransaction">
              <PropertyRef Name="ModifiedBy" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Staff_UserID_User_ID">
          <End Type="CRMModel.User" Role="User" Multiplicity="0..1" />
          <End Type="CRMModel.Staff" Role="Staff" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="User">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Staff">
              <PropertyRef Name="UserID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Appointment_StateID_AppointmentState_ID">
          <End Type="CRMModel.AppointmentState" Role="AppointmentState" Multiplicity="1" />
          <End Type="CRMModel.Appointment" Role="Appointment" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="AppointmentState">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Appointment">
              <PropertyRef Name="StateID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_DiscountCard_DiscountTypeID_DiscountTYpe_ID">
          <End Type="CRMModel.DiscountType" Role="DiscountType" Multiplicity="1" />
          <End Type="CRMModel.DiscountCard" Role="DiscountCard" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="DiscountType">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="DiscountCard">
              <PropertyRef Name="DiscountTypeID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_FinancialTransaction_TransactionTypeID_TransactionType_ID">
          <End Type="CRMModel.TransactionType" Role="TransactionType" Multiplicity="1" />
          <End Type="CRMModel.FinancialTransaction" Role="FinancialTransaction" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="TransactionType">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="FinancialTransaction">
              <PropertyRef Name="TransactionTypeID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Appointment_CustomerID_Customer_ID">
          <End Type="CRMModel.Customer" Role="Customer" Multiplicity="1" />
          <End Type="CRMModel.Appointment" Role="Appointment" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Customer">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Appointment">
              <PropertyRef Name="CustomerID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Appointment_StaffID_Staff_ID">
          <End Type="CRMModel.Staff" Role="Staff" Multiplicity="1" />
          <End Type="CRMModel.Appointment" Role="Appointment" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Staff">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Appointment">
              <PropertyRef Name="StaffID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_FinancialTransaction_AppointmentID_Appointment_iD">
          <End Type="CRMModel.Appointment" Role="Appointment" Multiplicity="1" />
          <End Type="CRMModel.FinancialTransaction" Role="FinancialTransaction" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Appointment">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="FinancialTransaction">
              <PropertyRef Name="AppointmentID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_Customer_DiscountCardID_DiscountCard_ID">
          <End Type="CRMModel.DiscountCard" Role="DiscountCard" Multiplicity="0..1" />
          <End Type="CRMModel.Customer" Role="Customer" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="DiscountCard">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="Customer">
              <PropertyRef Name="DiscountCardID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_FinancialTransaction_CustomerID_Customer_ID">
          <End Type="CRMModel.Customer" Role="Customer" Multiplicity="1" />
          <End Type="CRMModel.FinancialTransaction" Role="FinancialTransaction" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Customer">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="FinancialTransaction">
              <PropertyRef Name="CustomerID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="UserPrivilege">
          <End Type="CRMModel.Privilege" Role="Privilege" Multiplicity="*" />
          <End Type="CRMModel.User" Role="User" Multiplicity="*" />
        </Association>
        <EntityType Name="AppointmentView">
          <Key>
            <PropertyRef Name="AppointmentID" />
            <PropertyRef Name="CustomerFirstName" />
            <PropertyRef Name="CustomerLastName" />
          </Key>
          <Property Name="AppointmentID" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="CustomerID" Type="Int32" Nullable="false" />
          <Property Name="StartTime" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="EndTime" Type="DateTime" Precision="3" Nullable="false" />
          <Property Name="StaffID" Type="Int32" Nullable="false" />
          <Property Name="Purpose" Type="String" Nullable="false" MaxLength="4000" FixedLength="false" Unicode="true" />
          <Property Name="Price" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="DiscountPercent" Type="Decimal" Nullable="false" Precision="4" Scale="2" />
          <Property Name="Discount" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="ToPay" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="Payed" Type="Decimal" Precision="13" Scale="2" />
          <Property Name="StateID" Type="Int32" Nullable="false" />
          <Property Name="CreatedBy" Type="Int32" Nullable="false" />
          <Property Name="ModificationTime" Type="DateTime" Precision="3" />
          <Property Name="ModifiedBy" Type="Int32" />
          <Property Name="CreationTime" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="CustomerFirstName" Type="String" Nullable="false" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="CustomerLastName" Type="String" Nullable="false" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="CustomerMiddleName" Type="String" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="DiscountCardCode" Type="String" MaxLength="50" FixedLength="false" Unicode="false" />
          <Property Name="DiscountCardPercent" Type="Decimal" Precision="4" Scale="2" />
          <Property Name="DiscountCardTotalPurchaseValue" Type="Decimal" Precision="13" Scale="2" />
          <Property Name="DiscountCardMinDiscount" Type="Decimal" Precision="13" Scale="2" />
          <Property Name="DiscountCardMaxDiscount" Type="Decimal" Precision="13" Scale="2" />
        </EntityType>
        <EntityType Name="CustomerView">
          <Key>
            <PropertyRef Name="CustomerID" />
          </Key>
          <Property Name="CustomerID" Type="Int32" Nullable="false" />
          <Property Name="FirstName" Type="String" Nullable="false" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="LastName" Type="String" Nullable="false" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="MiddleName" Type="String" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="Gender" Type="Int32" Nullable="false" />
          <Property Name="Country" Type="String" MaxLength="4000" FixedLength="false" Unicode="true" />
          <Property Name="City" Type="String" MaxLength="4000" FixedLength="false" Unicode="true" />
          <Property Name="Region" Type="String" MaxLength="4000" FixedLength="false" Unicode="true" />
          <Property Name="Zip" Type="Int32" />
          <Property Name="Phone" Type="String" MaxLength="18" FixedLength="false" Unicode="false" />
          <Property Name="MobilePhone" Type="String" MaxLength="18" FixedLength="false" Unicode="false" />
          <Property Name="Email" Type="String" MaxLength="255" FixedLength="false" Unicode="false" />
          <Property Name="Address" Type="String" MaxLength="4000" FixedLength="false" Unicode="true" />
          <Property Name="BirthDate" Type="DateTime" Precision="7" />
          <Property Name="MoneyBalance" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="NotifyByEmail" Type="Boolean" Nullable="false" />
          <Property Name="NotifyBySms" Type="Boolean" Nullable="false" />
          <Property Name="NotifyByPost" Type="Boolean" Nullable="false" />
          <Property Name="CreationTime" Type="DateTime" Nullable="false" Precision="7" />
          <Property Name="ModificationTime" Type="DateTime" Precision="7" />
          <Property Name="DiscountcardID" Type="Int32" />
          <Property Name="DiscountCardCode" Type="String" MaxLength="50" FixedLength="false" Unicode="false" />
          <Property Name="DiscountPercent" Type="Decimal" Precision="4" Scale="2" />
          <Property Name="FirstVisit" Type="DateTime" Precision="3" />
          <Property Name="LastVisit" Type="DateTime" Precision="3" />
          <Property Name="NextVisit" Type="DateTime" Precision="3" />
        </EntityType>
        <ComplexType Name="CustomerDashboardData">
          <Property Type="Int32" Name="CustomerID" Nullable="false" />
          <Property Type="String" Name="FirstName" Nullable="false" MaxLength="255" />
          <Property Type="String" Name="LastName" Nullable="false" MaxLength="255" />
          <Property Type="String" Name="MiddleName" Nullable="true" MaxLength="255" />
          <Property Type="String" Name="MobilePhone" Nullable="true" MaxLength="18" />
          <Property Type="DateTime" Name="NearestAppointmentDate" Nullable="true" Precision="23" />
          <Property Type="Int32" Name="NewGroup" Nullable="false" />
          <Property Type="String" Name="DiscountCardCode" Nullable="true" MaxLength="50" />
        </ComplexType>
        <EntityType Name="FinancialTransactionView">
          <Key>
            <PropertyRef Name="ID" />
            <PropertyRef Name="Price" />
            <PropertyRef Name="IsCanceled" />
          </Key>
          <Property Name="ID" Type="Int32" Nullable="false" />
          <Property Name="CustomerID" Type="Int32" Nullable="false" />
          <Property Name="CustomerFirstName" Type="String" Nullable="false" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="CustomerLastName" Type="String" Nullable="false" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="CustomerMiddleName" Type="String" MaxLength="100" FixedLength="false" Unicode="true" />
          <Property Name="DiscountCardCode" Type="String" MaxLength="50" FixedLength="false" Unicode="false" />
          <Property Name="DiscountCardPercent" Type="Decimal" Precision="4" Scale="2" />
          <Property Name="DiscountCardTotalPurchaseValue" Type="Decimal" Precision="13" Scale="2" />
          <Property Name="DiscountCardMinDiscount" Type="Decimal" Precision="13" Scale="2" />
          <Property Name="DiscountCardMaxDiscount" Type="Decimal" Precision="13" Scale="2" />
          <Property Name="AppointmentID" Type="Int32" Nullable="false" />
          <Property Name="AppointmentPurpose" Type="String" Nullable="false" MaxLength="4000" FixedLength="false" Unicode="true" />
          <Property Name="AppointmentStartTime" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="AppointmentEndTime" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="StaffID" Type="Int32" Nullable="false" />
          <Property Name="ToPay" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="DiscountPercent" Type="Decimal" Nullable="false" Precision="4" Scale="2" />
          <Property Name="Discount" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="TransactionTypeID" Type="Int32" Nullable="false" />
          <Property Name="Amount" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="Comment" Type="String" MaxLength="4000" FixedLength="false" Unicode="true" />
          <Property Name="CreationTime" Type="DateTime" Nullable="false" Precision="3" />
          <Property Name="CreatedBy" Type="Int32" Nullable="false" />
          <Property Name="ModificationTime" Type="DateTime" Precision="3" />
          <Property Name="ModifiedBy" Type="Int32" />
          <Property Name="Price" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <Property Name="IsCanceled" Type="Boolean" Nullable="false" />
        </EntityType>
        <EntityType Name="DBVersion">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Major" Type="Int32" Nullable="false" />
          <Property Name="Minor" Type="Int32" Nullable="false" />
          <Property Name="Build" Type="Int32" Nullable="false" />
          <Property Name="Revision" Type="Int32" Nullable="false" />
          <Property Name="InstallationStarted" Type="DateTime" Nullable="false" Precision="7" />
          <Property Name="InstallationFinished" Type="DateTime" Precision="7" />
        </EntityType>
        <EntityType Name="Service">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="Description" Type="String" Nullable="false" MaxLength="4000" FixedLength="false" Unicode="true" />
          <Property Name="WorkingMinuts" Type="Int32" Nullable="false" />
          <Property Name="Price" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <NavigationProperty Name="Staffs" Relationship="CRMModel.StaffService" FromRole="Service" ToRole="Staff" />
          <NavigationProperty Name="AppointmentDetails" Relationship="CRMModel.FK_AppointmentDetail_ServiceID_Service_ID" FromRole="Service" ToRole="AppointmentDetail" />
        </EntityType>
        <Association Name="StaffService">
          <End Type="CRMModel.Service" Role="Service" Multiplicity="*" />
          <End Type="CRMModel.Staff" Role="Staff" Multiplicity="*" />
        </Association>
        <EntityType Name="AppointmentDetail">
          <Key>
            <PropertyRef Name="ID" />
          </Key>
          <Property Name="ID" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
          <Property Name="AppointmentID" Type="Int32" Nullable="false" />
          <Property Name="StaffID" Type="Int32" Nullable="false" />
          <Property Name="ServiceID" Type="Int32" Nullable="false" />
          <Property Name="Price" Type="Decimal" Nullable="false" Precision="13" Scale="2" />
          <NavigationProperty Name="Service" Relationship="CRMModel.FK_AppointmentDetail_ServiceID_Service_ID" FromRole="AppointmentDetail" ToRole="Service" />
          <NavigationProperty Name="Appointment" Relationship="CRMModel.FK_AppointmentDetail_AppointmentID_Appointment_ID" FromRole="AppointmentDetail" ToRole="Appointment" />
          <NavigationProperty Name="Staff" Relationship="CRMModel.FK_AppointmentDetail_StaffID_Staff_ID" FromRole="AppointmentDetail" ToRole="Staff" />
        </EntityType>
        <Association Name="FK_AppointmentDetail_ServiceID_Service_ID">
          <End Type="CRMModel.Service" Role="Service" Multiplicity="1" />
          <End Type="CRMModel.AppointmentDetail" Role="AppointmentDetail" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Service">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="AppointmentDetail">
              <PropertyRef Name="ServiceID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_AppointmentDetail_AppointmentID_Appointment_ID">
          <End Type="CRMModel.Appointment" Role="Appointment" Multiplicity="1" />
          <End Type="CRMModel.AppointmentDetail" Role="AppointmentDetail" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Appointment">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="AppointmentDetail">
              <PropertyRef Name="AppointmentID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        <Association Name="FK_AppointmentDetail_StaffID_Staff_ID">
          <End Type="CRMModel.Staff" Role="Staff" Multiplicity="1" />
          <End Type="CRMModel.AppointmentDetail" Role="AppointmentDetail" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Staff">
              <PropertyRef Name="ID" />
            </Principal>
            <Dependent Role="AppointmentDetail">
              <PropertyRef Name="StaffID" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        </Schema>
    </edmx:ConceptualModels>
    <!-- C-S mapping content -->
    <edmx:Mappings>
      <Mapping Space="C-S" xmlns="http://schemas.microsoft.com/ado/2009/11/mapping/cs">
        <EntityContainerMapping StorageEntityContainer="CRMModelStoreContainer" CdmEntityContainer="CRMContext">
          <EntitySetMapping Name="Privileges">
            <EntityTypeMapping TypeName="CRMModel.Privilege">
              <MappingFragment StoreEntitySet="Privilege">
                <ScalarProperty Name="GroupID" ColumnName="GroupID" />
                <ScalarProperty Name="Description" ColumnName="Description" />
                <ScalarProperty Name="Name" ColumnName="Name" />
                <ScalarProperty Name="ID" ColumnName="ID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="Users">
            <EntityTypeMapping TypeName="CRMModel.User">
              <MappingFragment StoreEntitySet="User">
                <ScalarProperty Name="IsSystem" ColumnName="IsSystem" />
                <ScalarProperty Name="ExpirationDate" ColumnName="ExpirationDate" />
                <ScalarProperty Name="Email" ColumnName="Email" />
                <ScalarProperty Name="Password" ColumnName="Password" />
                <ScalarProperty Name="Login" ColumnName="Login" />
                <ScalarProperty Name="ID" ColumnName="ID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="AppointmentStates">
            <EntityTypeMapping TypeName="CRMModel.AppointmentState">
              <MappingFragment StoreEntitySet="AppointmentState">
                <ScalarProperty Name="Description" ColumnName="Description" />
                <ScalarProperty Name="Name" ColumnName="Name" />
                <ScalarProperty Name="Code" ColumnName="Code" />
                <ScalarProperty Name="ID" ColumnName="ID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="CumulativeDiscounts">
            <EntityTypeMapping TypeName="CRMModel.CumulativeDiscount">
              <MappingFragment StoreEntitySet="CumulativeDiscount">
                <ScalarProperty Name="Name" ColumnName="Name" />
                <ScalarProperty Name="PurchaseTopLimit" ColumnName="PurchaseTopLimit" />
                <ScalarProperty Name="MaxDiscount" ColumnName="MaxDiscount" />
                <ScalarProperty Name="MinDiscount" ColumnName="MinDiscount" />
                <ScalarProperty Name="Percent" ColumnName="Percent" />
                <ScalarProperty Name="ID" ColumnName="ID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="DiscountTypes">
            <EntityTypeMapping TypeName="CRMModel.DiscountType">
              <MappingFragment StoreEntitySet="DiscountType">
                <ScalarProperty Name="Description" ColumnName="Description" />
                <ScalarProperty Name="Name" ColumnName="Name" />
                <ScalarProperty Name="Code" ColumnName="Code" />
                <ScalarProperty Name="ID" ColumnName="ID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="PrivelegeGroups">
            <EntityTypeMapping TypeName="CRMModel.PrivelegeGroup">
              <MappingFragment StoreEntitySet="PrivelegeGroup">
                <ScalarProperty Name="Description" ColumnName="Description" />
                <ScalarProperty Name="Name" ColumnName="Name" />
                <ScalarProperty Name="Code" ColumnName="Code" />
                <ScalarProperty Name="ID" ColumnName="ID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="TransactionTypes">
            <EntityTypeMapping TypeName="CRMModel.TransactionType">
              <MappingFragment StoreEntitySet="TransactionType">
                <ScalarProperty Name="OperationSign" ColumnName="OperationSign" />
                <ScalarProperty Name="Description" ColumnName="Description" />
                <ScalarProperty Name="Name" ColumnName="Name" />
                <ScalarProperty Name="Code" ColumnName="Code" />
                <ScalarProperty Name="ID" ColumnName="ID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="Appointments">
            <EntityTypeMapping TypeName="CRMModel.Appointment">
              <MappingFragment StoreEntitySet="Appointment">
                <ScalarProperty Name="CreationTime" ColumnName="CreationTime" />
                <ScalarProperty Name="ModifiedBy" ColumnName="ModifiedBy" />
                <ScalarProperty Name="ModificationTime" ColumnName="ModificationTime" />
                <ScalarProperty Name="CreatedBy" ColumnName="CreatedBy" />
                <ScalarProperty Name="StateID" ColumnName="StateID" />
                <ScalarProperty Name="ToPay" ColumnName="ToPay" />
                <ScalarProperty Name="Discount" ColumnName="Discount" />
                <ScalarProperty Name="DiscountPercent" ColumnName="DiscountPercent" />
                <ScalarProperty Name="Price" ColumnName="Price" />
                <ScalarProperty Name="Purpose" ColumnName="Purpose" />
                <ScalarProperty Name="StaffID" ColumnName="StaffID" />
                <ScalarProperty Name="EndTime" ColumnName="EndTime" />
                <ScalarProperty Name="StartTime" ColumnName="StartTime" />
                <ScalarProperty Name="CustomerID" ColumnName="CustomerID" />
                <ScalarProperty Name="ID" ColumnName="ID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="Customers">
            <EntityTypeMapping TypeName="CRMModel.Customer">
              <MappingFragment StoreEntitySet="Customer">
                <ScalarProperty Name="FirstName" ColumnName="FirstName" />
                <ScalarProperty Name="ModificationTime" ColumnName="ModificationTime" />
                <ScalarProperty Name="CreationTime" ColumnName="CreationTime" />
                <ScalarProperty Name="NotifyByPost" ColumnName="NotifyByPost" />
                <ScalarProperty Name="NotifyBySms" ColumnName="NotifyBySms" />
                <ScalarProperty Name="NotifyByEmail" ColumnName="NotifyByEmail" />
                <ScalarProperty Name="Zip" ColumnName="Zip" />
                <ScalarProperty Name="Region" ColumnName="Region" />
                <ScalarProperty Name="City" ColumnName="City" />
                <ScalarProperty Name="Country" ColumnName="Country" />
                <ScalarProperty Name="Gender" ColumnName="Gender" />
                <ScalarProperty Name="MobilePhone" ColumnName="MobilePhone" />
                <ScalarProperty Name="MoneyBalance" ColumnName="MoneyBalance" />
                <ScalarProperty Name="Photo" ColumnName="Photo" />
                <ScalarProperty Name="UserID" ColumnName="UserID" />
                <ScalarProperty Name="DiscountCardID" ColumnName="DiscountCardID" />
                <ScalarProperty Name="BirthDate" ColumnName="BirthDate" />
                <ScalarProperty Name="Address" ColumnName="Address" />
                <ScalarProperty Name="Email" ColumnName="Email" />
                <ScalarProperty Name="Phone" ColumnName="Phone" />
                <ScalarProperty Name="MiddleName" ColumnName="MiddleName" />
                <ScalarProperty Name="LastName" ColumnName="LastName" />
                <ScalarProperty Name="ID" ColumnName="ID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="DiscountCards">
            <EntityTypeMapping TypeName="CRMModel.DiscountCard">
              <MappingFragment StoreEntitySet="DiscountCard">
                <ScalarProperty Name="InitialDiscountPercent" ColumnName="InitialDiscountPercent" />
                <ScalarProperty Name="FixedDiscount" ColumnName="FixedDiscount" />
                <ScalarProperty Name="MaxDiscount" ColumnName="MaxDiscount" />
                <ScalarProperty Name="MinDiscount" ColumnName="MinDiscount" />
                <ScalarProperty Name="DiscountTypeID" ColumnName="DiscountTypeID" />
                <ScalarProperty Name="TotalPurchaseValue" ColumnName="TotalPurchaseValue" />
                <ScalarProperty Name="DiscountPercent" ColumnName="DiscountPercent" />
                <ScalarProperty Name="Code" ColumnName="Code" />
                <ScalarProperty Name="ID" ColumnName="ID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="FinancialTransactions">
            <EntityTypeMapping TypeName="CRMModel.FinancialTransaction">
              <MappingFragment StoreEntitySet="FinancialTransaction">
                <ScalarProperty Name="IsCanceled" ColumnName="IsCanceled" />
                <ScalarProperty Name="CreationTime" ColumnName="CreationTime" />
                <ScalarProperty Name="ModifiedBy" ColumnName="ModifiedBy" />
                <ScalarProperty Name="ModificationTime" ColumnName="ModificationTime" />
                <ScalarProperty Name="CreatedBy" ColumnName="CreatedBy" />
                <ScalarProperty Name="Comment" ColumnName="Comment" />
                <ScalarProperty Name="Amount" ColumnName="Amount" />
                <ScalarProperty Name="TransactionTypeID" ColumnName="TransactionTypeID" />
                <ScalarProperty Name="AppointmentID" ColumnName="AppointmentID" />
                <ScalarProperty Name="CustomerID" ColumnName="CustomerID" />
                <ScalarProperty Name="ID" ColumnName="ID" />
              </MappingFragment>
            </EntityTypeMapping>
            <EntityTypeMapping TypeName="CRMModel.FinancialTransaction">
              <ModificationFunctionMapping>
                <InsertFunction FunctionName="CRMModel.Store.CreateFinancialTransaction" >
                <ScalarProperty Name="Comment" ParameterName="comment" />
                  <ScalarProperty Name="Amount" ParameterName="amount" />
                  <ScalarProperty Name="AppointmentID" ParameterName="appointmentID" />
                  <ScalarProperty Name="CustomerID" ParameterName="customerID" />
                  <ScalarProperty Name="TransactionTypeID" ParameterName="transactionTypeID" />
                  <ScalarProperty Name="CreatedBy" ParameterName="userID" />
                  <ResultBinding Name="ID" ColumnName="ID" />
                  <ResultBinding Name="Amount" ColumnName="Amount" />
                  <ResultBinding Name="CreationTime" ColumnName="CreationTime" />
                </InsertFunction>
                <DeleteFunction FunctionName="CRMModel.Store.DeleteFinancialTransaction" >
                  <ScalarProperty Name="ID" ParameterName="id" />
                </DeleteFunction>
                <UpdateFunction FunctionName="CRMModel.Store.UpdateFinancialTransaction" >
                  <ScalarProperty Name="Comment" ParameterName="comment" Version="Current" />
                  <ScalarProperty Name="Amount" ParameterName="amount" Version="Current" />
                  <ScalarProperty Name="AppointmentID" ParameterName="appointmentID" Version="Current" />
                  <ScalarProperty Name="CustomerID" ParameterName="customerID" Version="Current" />
                  <ScalarProperty Name="TransactionTypeID" ParameterName="transactionTypeID" Version="Current" />
                  <ScalarProperty Name="ModifiedBy" ParameterName="userID" Version="Current" />
                  <ScalarProperty Name="ID" ParameterName="id" Version="Current" />
                  <ResultBinding Name="ID" ColumnName="ID" />
                  <ResultBinding Name="Amount" ColumnName="Amount" />
                  <ResultBinding Name="Comment" ColumnName="Comment" />
                  <ResultBinding Name="CreationTime" ColumnName="CreationTime" />
                  <ResultBinding Name="ModificationTime" ColumnName="ModificationTime" />
                </UpdateFunction>
              </ModificationFunctionMapping>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="Staffs">
            <EntityTypeMapping TypeName="CRMModel.Staff">
              <MappingFragment StoreEntitySet="Staff">
                <ScalarProperty Name="Position" ColumnName="Position" />
                <ScalarProperty Name="UserID" ColumnName="UserID" />
                <ScalarProperty Name="DismissalDate" ColumnName="DismissalDate" />
                <ScalarProperty Name="Photo" ColumnName="Photo" />
                <ScalarProperty Name="MiddleName" ColumnName="MiddleName" />
                <ScalarProperty Name="LastName" ColumnName="LastName" />
                <ScalarProperty Name="FirstName" ColumnName="FirstName" />
                <ScalarProperty Name="ID" ColumnName="ID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <AssociationSetMapping Name="UserPrivilege" TypeName="CRMModel.UserPrivilege" StoreEntitySet="UserPrivilege">
            <EndProperty Name="User">
              <ScalarProperty Name="ID" ColumnName="UserID" />
            </EndProperty>
            <EndProperty Name="Privilege">
              <ScalarProperty Name="ID" ColumnName="PrivilegeID" />
            </EndProperty>
          </AssociationSetMapping>
          <EntitySetMapping Name="AppointmentView">
            <EntityTypeMapping TypeName="CRMModel.AppointmentView">
              <MappingFragment StoreEntitySet="AppointmentView">
                <ScalarProperty Name="DiscountCardMaxDiscount" ColumnName="DiscountCardMaxDiscount" />
                <ScalarProperty Name="DiscountCardMinDiscount" ColumnName="DiscountCardMinDiscount" />
                <ScalarProperty Name="DiscountCardTotalPurchaseValue" ColumnName="DiscountCardTotalPurchaseValue" />
                <ScalarProperty Name="DiscountCardPercent" ColumnName="DiscountCardPercent" />
                <ScalarProperty Name="DiscountCardCode" ColumnName="DiscountCardCode" />
                <ScalarProperty Name="CustomerMiddleName" ColumnName="CustomerMiddleName" />
                <ScalarProperty Name="CustomerLastName" ColumnName="CustomerLastName" />
                <ScalarProperty Name="CustomerFirstName" ColumnName="CustomerFirstName" />
                <ScalarProperty Name="CreationTime" ColumnName="CreationTime" />
                <ScalarProperty Name="ModifiedBy" ColumnName="ModifiedBy" />
                <ScalarProperty Name="ModificationTime" ColumnName="ModificationTime" />
                <ScalarProperty Name="CreatedBy" ColumnName="CreatedBy" />
                <ScalarProperty Name="StateID" ColumnName="StateID" />
                <ScalarProperty Name="Payed" ColumnName="Payed" />
                <ScalarProperty Name="ToPay" ColumnName="ToPay" />
                <ScalarProperty Name="Discount" ColumnName="Discount" />
                <ScalarProperty Name="DiscountPercent" ColumnName="DiscountPercent" />
                <ScalarProperty Name="Price" ColumnName="Price" />
                <ScalarProperty Name="Purpose" ColumnName="Purpose" />
                <ScalarProperty Name="StaffID" ColumnName="StaffID" />
                <ScalarProperty Name="EndTime" ColumnName="EndTime" />
                <ScalarProperty Name="StartTime" ColumnName="StartTime" />
                <ScalarProperty Name="CustomerID" ColumnName="CustomerID" />
                <ScalarProperty Name="AppointmentID" ColumnName="AppointmentID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <FunctionImportMapping FunctionImportName="CreateFinancialTransaction" FunctionName="CRMModel.Store.CreateFinancialTransaction" />
          <EntitySetMapping Name="CustomerView">
            <EntityTypeMapping TypeName="CRMModel.CustomerView">
              <MappingFragment StoreEntitySet="CustomerView">
                <ScalarProperty Name="NextVisit" ColumnName="NextVisit" />
                <ScalarProperty Name="LastVisit" ColumnName="LastVisit" />
                <ScalarProperty Name="FirstVisit" ColumnName="FirstVisit" />
                <ScalarProperty Name="DiscountPercent" ColumnName="DiscountPercent" />
                <ScalarProperty Name="DiscountCardCode" ColumnName="DiscountCardCode" />
                <ScalarProperty Name="DiscountcardID" ColumnName="DiscountcardID" />
                <ScalarProperty Name="ModificationTime" ColumnName="ModificationTime" />
                <ScalarProperty Name="CreationTime" ColumnName="CreationTime" />
                <ScalarProperty Name="NotifyByPost" ColumnName="NotifyByPost" />
                <ScalarProperty Name="NotifyBySms" ColumnName="NotifyBySms" />
                <ScalarProperty Name="NotifyByEmail" ColumnName="NotifyByEmail" />
                <ScalarProperty Name="MoneyBalance" ColumnName="MoneyBalance" />
                <ScalarProperty Name="BirthDate" ColumnName="BirthDate" />
                <ScalarProperty Name="Address" ColumnName="Address" />
                <ScalarProperty Name="Email" ColumnName="Email" />
                <ScalarProperty Name="MobilePhone" ColumnName="MobilePhone" />
                <ScalarProperty Name="Phone" ColumnName="Phone" />
                <ScalarProperty Name="Zip" ColumnName="Zip" />
                <ScalarProperty Name="Region" ColumnName="Region" />
                <ScalarProperty Name="City" ColumnName="City" />
                <ScalarProperty Name="Country" ColumnName="Country" />
                <ScalarProperty Name="Gender" ColumnName="Gender" />
                <ScalarProperty Name="MiddleName" ColumnName="MiddleName" />
                <ScalarProperty Name="LastName" ColumnName="LastName" />
                <ScalarProperty Name="FirstName" ColumnName="FirstName" />
                <ScalarProperty Name="CustomerID" ColumnName="CustomerID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <FunctionImportMapping FunctionImportName="GetCustomerDashboardData" FunctionName="CRMModel.Store.GetCustomerDashboardData">
          <ResultMapping>
              <ComplexTypeMapping TypeName="CRMModel.CustomerDashboardData">
                <ScalarProperty Name="CustomerID" ColumnName="CustomerID" />
                <ScalarProperty Name="FirstName" ColumnName="FirstName" />
                <ScalarProperty Name="LastName" ColumnName="LastName" />
                <ScalarProperty Name="MiddleName" ColumnName="MiddleName" />
                <ScalarProperty Name="MobilePhone" ColumnName="MobilePhone" />
                <ScalarProperty Name="NearestAppointmentDate" ColumnName="NearestAppointmentDate" />
                <ScalarProperty Name="NewGroup" ColumnName="NewGroup" />
                <ScalarProperty Name="DiscountCardCode" ColumnName="DiscountCardCode" />
              </ComplexTypeMapping>
            </ResultMapping>
          </FunctionImportMapping>
          <FunctionImportMapping FunctionImportName="DeleteFinancialTransaction" FunctionName="CRMModel.Store.DeleteFinancialTransaction" />
          <FunctionImportMapping FunctionImportName="UpdateFinancialTransaction" FunctionName="CRMModel.Store.UpdateFinancialTransaction" />
          <EntitySetMapping Name="FinancialTransactionView">
            <EntityTypeMapping TypeName="CRMModel.FinancialTransactionView">
              <MappingFragment StoreEntitySet="FinancialTransactionView">
                <ScalarProperty Name="IsCanceled" ColumnName="IsCanceled" />
                <ScalarProperty Name="Price" ColumnName="Price" />
                <ScalarProperty Name="ModifiedBy" ColumnName="ModifiedBy" />
                <ScalarProperty Name="ModificationTime" ColumnName="ModificationTime" />
                <ScalarProperty Name="CreatedBy" ColumnName="CreatedBy" />
                <ScalarProperty Name="CreationTime" ColumnName="CreationTime" />
                <ScalarProperty Name="Comment" ColumnName="Comment" />
                <ScalarProperty Name="Amount" ColumnName="Amount" />
                <ScalarProperty Name="TransactionTypeID" ColumnName="TransactionTypeID" />
                <ScalarProperty Name="Discount" ColumnName="Discount" />
                <ScalarProperty Name="DiscountPercent" ColumnName="DiscountPercent" />
                <ScalarProperty Name="ToPay" ColumnName="ToPay" />
                <ScalarProperty Name="StaffID" ColumnName="StaffID" />
                <ScalarProperty Name="AppointmentEndTime" ColumnName="AppointmentEndTime" />
                <ScalarProperty Name="AppointmentStartTime" ColumnName="AppointmentStartTime" />
                <ScalarProperty Name="AppointmentPurpose" ColumnName="AppointmentPurpose" />
                <ScalarProperty Name="AppointmentID" ColumnName="AppointmentID" />
                <ScalarProperty Name="DiscountCardMaxDiscount" ColumnName="DiscountCardMaxDiscount" />
                <ScalarProperty Name="DiscountCardMinDiscount" ColumnName="DiscountCardMinDiscount" />
                <ScalarProperty Name="DiscountCardTotalPurchaseValue" ColumnName="DiscountCardTotalPurchaseValue" />
                <ScalarProperty Name="DiscountCardPercent" ColumnName="DiscountCardPercent" />
                <ScalarProperty Name="DiscountCardCode" ColumnName="DiscountCardCode" />
                <ScalarProperty Name="CustomerMiddleName" ColumnName="CustomerMiddleName" />
                <ScalarProperty Name="CustomerLastName" ColumnName="CustomerLastName" />
                <ScalarProperty Name="CustomerFirstName" ColumnName="CustomerFirstName" />
                <ScalarProperty Name="CustomerID" ColumnName="CustomerID" />
                <ScalarProperty Name="ID" ColumnName="ID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <FunctionImportMapping FunctionImportName="RecalculateDiscount" FunctionName="CRMModel.Store.RecalculateDiscount" />
          <EntitySetMapping Name="DBVersions">
            <EntityTypeMapping TypeName="CRMModel.DBVersion">
              <MappingFragment StoreEntitySet="DBVersion">
                <ScalarProperty Name="InstallationFinished" ColumnName="InstallationFinished" />
                <ScalarProperty Name="InstallationStarted" ColumnName="InstallationStarted" />
                <ScalarProperty Name="Revision" ColumnName="Revision" />
                <ScalarProperty Name="Build" ColumnName="Build" />
                <ScalarProperty Name="Minor" ColumnName="Minor" />
                <ScalarProperty Name="Major" ColumnName="Major" />
                <ScalarProperty Name="ID" ColumnName="ID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <EntitySetMapping Name="Services">
            <EntityTypeMapping TypeName="CRMModel.Service">
              <MappingFragment StoreEntitySet="Service">
                <ScalarProperty Name="Price" ColumnName="Price" />
                <ScalarProperty Name="WorkingMinuts" ColumnName="WorkingMinuts" />
                <ScalarProperty Name="Description" ColumnName="Description" />
                <ScalarProperty Name="ID" ColumnName="ID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
          <AssociationSetMapping Name="StaffService" TypeName="CRMModel.StaffService" StoreEntitySet="StaffService">
            <EndProperty Name="Staff">
              <ScalarProperty Name="ID" ColumnName="StaffID" />
            </EndProperty>
            <EndProperty Name="Service">
              <ScalarProperty Name="ID" ColumnName="ServiceID" />
            </EndProperty>
          </AssociationSetMapping>
          <EntitySetMapping Name="AppointmentDetails">
            <EntityTypeMapping TypeName="CRMModel.AppointmentDetail">
              <MappingFragment StoreEntitySet="AppointmentDetail">
                <ScalarProperty Name="Price" ColumnName="Price" />
                <ScalarProperty Name="ServiceID" ColumnName="ServiceID" />
                <ScalarProperty Name="StaffID" ColumnName="StaffID" />
                <ScalarProperty Name="AppointmentID" ColumnName="AppointmentID" />
                <ScalarProperty Name="ID" ColumnName="ID" />
              </MappingFragment>
            </EntityTypeMapping>
          </EntitySetMapping>
        </EntityContainerMapping>
      </Mapping>
    </edmx:Mappings>
  </edmx:Runtime>
  <!-- EF Designer content (DO NOT EDIT MANUALLY BELOW HERE) -->
  <Designer xmlns="http://schemas.microsoft.com/ado/2009/11/edmx">
    <Connection>
      <DesignerInfoPropertySet>
        <DesignerProperty Name="MetadataArtifactProcessing" Value="EmbedInOutputAssembly" />
      </DesignerInfoPropertySet>
    </Connection>
    <Options>
      <DesignerInfoPropertySet>
        <DesignerProperty Name="ValidateOnBuild" Value="true" />
        <DesignerProperty Name="EnablePluralization" Value="true" />
        <DesignerProperty Name="IncludeForeignKeysInModel" Value="true" />
        <DesignerProperty Name="UseLegacyProvider" Value="false" />
        <DesignerProperty Name="CodeGenerationStrategy" Value="None" />
      </DesignerInfoPropertySet>
    </Options>
    <!-- Diagram content (shape and connector positions) -->
    <Diagrams></Diagrams>
  </Designer>
</edmx:Edmx>